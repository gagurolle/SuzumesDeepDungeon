
<div class="background">
  <div class="main-page-container">
    <div class="deafult-card-style">
    <!-- Герой-секция -->
    <section class="hero">
      <h1 class="page-title"><img src="https://cdn.7tv.app/emote/01F9V0VY58000AJG70JGM8SMF1/2x.avif" alt="0">Twitch Игры от пользователей<img src="https://cdn.7tv.app/emote/01HD92YYE8000DW97PFPF49BZG/1x.avif" alt="0"></h1>
      <p>Когда вы на стриме, с  помощью награды ( за баллы канала ) можно добавить в этот список игру. То есть вы советуете игры, они тут сохраняются, а я потом делаю выводы - играть мне во что-то из этого или нет</p>
    </section>
    </div>

    <!-- Таблица действий -->
    <section class="code-section">
      <div class="table-container">
        <table class="actions-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Пользователь</th>
              <!-- <th>Событие</th> -->
              <th>Тип</th>
              <th>Команда/награда</th>
              <th>Стоимость</th>
              <th>Данные</th>
            </tr>
          </thead>
          <tbody>
            @for(action of actions; track action.id; let i = $index) {
            <tr>
              <td class="index">{{ i + 1 }}</td>
              <td class="user-info">
                <img [src]="action.user.profileImageUrl || 'https://static-cdn.jtvnw.net/user-default-pictures-uv/ce57700a-def9-11e9-842d-784f43822e80-profile_image-70x70.png'" 
                     alt="Profile" class="profile-image">
                <div class="user-details">
                  <span class="user-login">{{ action.user.userLogin }}</span>
                  <span class="user-type">{{ action.user.userType || 'Viewer' }}</span>
                </div>
              </td>
              <!-- <td class="action-name">{{ action.systemAction?.actionName || 'N/A' }}</td> -->
              <td class="action-type">
                <span class="type-badge" [class.reward]="action.rewardRedemption" [class.command]="action.commandTriggered">
                  {{ action.rewardRedemption ? 'Reward' : (action.commandTriggered ? 'Command' : 'Unknown') }}
                </span>
              </td>
              <td class="command-reward">
                {{ action.commandTriggered?.command || action.rewardRedemption?.rewardName || 'N/A' }}
              </td>
              <td class="cost">
                {{ action.rewardRedemption?.rewardCost}}
              </td>
              <td class="row-data">{{ action.rowData || 'No additional data' }}</td>
            </tr>
            } @empty {
            <tr>
              <td colspan="7" class="no-actions">No actions recorded yet</td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </section>

    <!-- Дополнительная информация -->
    <section class="after-code-section">
      <h2 class="section-title">Что тут происходит</h2>
      <p class="section-title">Интеграция со Streamer.bot | Когда подписчик забирает награду - это обрабатывает Streamer.Bot и делает запрос к сайту по api ключу и добавляет информацию о том, какая награда и кем была тригернута.</p>
    </section>
  </div>
</div>
